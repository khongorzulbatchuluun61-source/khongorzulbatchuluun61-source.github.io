<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê–¥–º–∏–Ω - –ú—ç–¥—ç—ç –Ω—ç–º—ç—Ö</title>
<style>
body { font-family: Arial, sans-serif; background:#f4f4f4; padding:20px; }
h1 { color:#0077cc; text-align:center; }
form { max-width:500px; margin:0 auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
form label { display:block; margin-top:15px; font-weight:bold; }
form input[type="text"], form textarea, form select { width:100%; padding:8px; margin-top:5px; border-radius:5px; border:1px solid #ccc; }
form input[type="file"] { margin-top:5px; }
form button { margin-top:20px; padding:10px 15px; background:#0077cc; color:#fff; border:none; border-radius:5px; cursor:pointer; font-weight:bold; }
form button:hover { background:#005fa3; }
img#preview { margin-top:10px; max-width:100%; border-radius:5px; }
.success { color: green; text-align:center; margin-top:15px; }
.error { color: red; text-align:center; margin-top:15px; }
</style>
</head>
<body>

<h1>üü¢ –ú—ç–¥—ç—ç –Ω—ç–º—ç—Ö</h1>

<form id="newsForm">
  <label for="title">–ì–∞—Ä—á–∏–≥:</label>
  <input type="text" id="title" required>

  <label for="description">–¢–æ–≤—á —Ç–∞–π–ª–±–∞—Ä:</label>
  <textarea id="description" rows="2" required></textarea>

  <label for="fulltext">–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç–µ–∫—Å—Ç:</label>
  <textarea id="fulltext" rows="5" required></textarea>

  <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏ —Å–æ–Ω–≥–æ—Ö:</label>
  <select id="category" required>
    <option value="">–°–æ–Ω–≥–æ–Ω–æ —É—É</option>
    <option value="–ï—Ä”©–Ω—Ö–∏–π">–ï—Ä”©–Ω—Ö–∏–π</option>
    <option value="–¢–µ—Ö–Ω–æ–ª–æ–≥–∏">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏</option>
    <option value="–°–ø–æ—Ä—Ç">–°–ø–æ—Ä—Ç</option>
    <option value="–°–æ—ë–ª">–°–æ—ë–ª</option>
  </select>

  <label for="image">–ó—É—Ä–∞–≥ —Å–æ–Ω–≥–æ—Ö:</label>
  <input type="file" id="image" accept="image/*" required>
  <img id="preview" src="" alt="–£—Ä—å–¥—á–∏–ª–∞–Ω —Ö–∞—Ä–∞—Ö –∑—É—Ä–∞–≥" style="display:none;">

  <button type="submit">–ú—ç–¥—ç—ç –Ω—ç–º—ç—Ö</button>
</form>

<p class="success" id="successMsg"></p>
<p class="error" id="errorMsg"></p>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-database.js";
import { getStorage, ref as sRef, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-storage.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyCEZS_SYNYTM49tlk8VQXTXcHW2poSJdEI",
  authDomain: "khongorzul-news.firebaseapp.com",
  databaseURL: "https://khongorzul-news-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "khongorzul-news",
  storageBucket: "khongorzul-news.firebasestorage.app",
  messagingSenderId: "489440213839",
  appId: "1:489440213839:web:b11ae043901031220a633a",
  measurementId: "G-BJKJVZYKLL"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const storage = getStorage(app);

const form = document.getElementById("newsForm");
const successMsg = document.getElementById("successMsg");
const errorMsg = document.getElementById("errorMsg");
const imageInput = document.getElementById("image");
const preview = document.getElementById("preview");

// –£—Ä—å–¥—á–∏–ª–∞–Ω —Ö–∞—Ä–∞—Ö –∑—É—Ä–∞–≥
imageInput.addEventListener("change", () => {
  const file = imageInput.files[0];
  if (file) {
    preview.src = URL.createObjectURL(file);
    preview.style.display = "block";
  } else {
    preview.style.display = "none";
  }
});

form.addEventListener("submit", async (e) => {
  e.preventDefault();
  successMsg.textContent = "";
  errorMsg.textContent = "";

  const title = document.getElementById("title").value.trim();
  const description = document.getElementById("description").value.trim();
  const fulltext = document.getElementById("fulltext").value.trim();
  const category = document.getElementById("category").value;
  const imageFile = imageInput.files[0];

  if (!title || !description || !fulltext || !category || !imageFile) {
    errorMsg.textContent = "–ë“Ø—Ö —Ç–∞–ª–±–∞—Ä—ã–≥ –±”©–≥–ª”©–Ω”© “Ø“Ø!";
    return;
  }

  try {
    // 1Ô∏è‚É£ –ó—É—Ä–∞–≥ –±–∞–π—Ä—à—É—É–ª–∂ URL –∞–≤–∞—Ö
    const imageRef = sRef(storage, `news_images/${Date.now()}_${imageFile.name}`);
    await uploadBytes(imageRef, imageFile);
    const imageUrl = await getDownloadURL(imageRef);

    // 2Ô∏è‚É£ –ú—ç–¥—ç—ç–Ω–∏–π –æ–±—ä–µ–∫—Ç “Ø“Ø—Å–≥—ç—Ö
    const newsRef = ref(db, "news");
    const newNewsRef = push(newsRef);
    const newsData = {
      title,
      description,
      fulltext,
      category,
      image: imageUrl,
      date: new Date().toISOString().split('T')[0]
    };

    // 3Ô∏è‚É£ Firebase Database-–¥ —Ö–∞–¥–≥–∞–ª–∞—Ö
    await set(newNewsRef, newsData);

    successMsg.textContent = "–ú—ç–¥—ç—ç –∞–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–º—ç–≥–¥–ª—ç—ç!";
    form.reset();
    preview.style.display = "none";
  } catch (err) {
    console.error(err);
    errorMsg.textContent = "–ê–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞: " + err.message;
  }
});
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú—ç–¥—ç—ç–Ω–∏–π –ø–æ—Ä—Ç–∞–ª</title>
<style>
body { margin:0; font-family: Arial, sans-serif; background:#f4f4f4; color:#333; }
header { background:#0077cc; color:#fff; padding:15px 20px; text-align:center; }
header h1 { margin:0; font-size:28px; }
nav { margin-top:10px; text-align:center; }
nav a { color:#fff; margin:0 10px; text-decoration:none; font-weight:bold; }
nav a:hover { text-decoration:underline; }

/* Hero carousel */
.hero-container { position:relative; width:100%; max-height:400px; overflow:hidden; margin-bottom:20px; }
.hero-slide { width:100%; display:none; position:relative; }
.hero-slide img { width:100%; height:auto; display:block; border-radius:8px; }
.hero-overlay { position:absolute; bottom:20px; left:20px; background:rgba(0,0,0,0.6); color:#fff; padding:15px; border-radius:5px; max-width:70%; }
.hero-overlay h2 { margin:0; }

/* Info Board */
.info-board { display:flex; flex-wrap:wrap; justify-content:center; gap:20px; padding:20px; }
.info-card { background:#fff; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); padding:20px; width:280px; text-align:center; transition:transform 0.2s, box-shadow 0.2s; }
.info-card h2 { margin-top:0; color:#0077cc; }
.info-card a { color:#0077cc; text-decoration:none; font-weight:bold; }
.info-card:hover { transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.15); }

/* News Section */
.news-container { max-width:900px; margin:0 auto; padding:20px; display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:15px; }
.news-card { background:#fff; padding:15px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); position:relative; }
.news-card h3 { margin-top:0; color:#0077cc; }
.news-card img { width:100%; border-radius:6px; margin-bottom:10px; }
.news-card .fulltext { display:none; margin-top:10px; }

/* Read more link */
.read-more { display:inline-block; margin-top:10px; color:#0077cc; text-decoration:none; font-weight:bold; cursor:pointer; }
.read-more:hover { text-decoration:underline; }

/* Contact Card */
.contact-card { background: #e6f0ff; border: 2px solid #0077cc; width:100%; padding:20px; margin:40px 0 20px; max-width:1200px; }
.contact-card h2 { color: #0077cc; margin-bottom: 15px; }
.contact-card a { color: #005fa3; text-decoration: underline; }
.contact-buttons { margin-top: 15px; display: flex; justify-content: center; gap: 10px; }
.contact-buttons .btn { display: inline-block; padding: 8px 12px; background: #0077cc; color: #fff; border-radius: 5px; text-decoration: none; font-weight: bold; }
.contact-buttons .btn:hover { background: #005fa3; }

/* Footer */
footer { text-align:center; padding:15px 0; background:#333; color:#fff; margin-top:20px; }

/* Mobile */
@media(max-width:768px){ 
  .hero-overlay { max-width:90%; font-size:14px; } 
  .info-card { width:90%; } 
  .contact-card { width:90%; }
}
</style>
</head>
<body>

<header>
<h1>Redbox</h1>
<nav>
<a href="#">–≠—Ö–ª—ç–ª</a>
<a href="#">–°–æ—ë–ª —É—Ä–ª–∞–≥</a>
<a href="#">–≠–¥–∏–π–Ω –∑–∞—Å–∞–≥</a>
<a href="#">–°–ø–æ—Ä—Ç</a>
<a href="#">–ù–∏–π–≥—ç–º</a>
</nav>
</header>

<!-- Hero carousel -->
<div class="hero-container" id="hero-container"></div>

<!-- Info-board -->
<section class="info-board">
  <div class="info-card">
    <h2>üåü –û–Ω—Ü–ª–æ—Ö –º—ç–¥—ç—ç</h2>
    <p>–ì–æ–ª –º—ç–¥—ç—ç–ª–ª“Ø“Ø–¥–∏–π–≥ —Ç–æ–≤—á —Ç–∞–Ω–∏–ª—Ü—É—É–ª—Å–∞–Ω —Ö—ç—Å—ç–≥.</p>
  </div>
  <div class="info-card">
    <h2>üåê Facebook —Ö—É—É–¥–∞—Å</h2>
    <p><a href="https://www.facebook.com/profile.php?id=61577147703989" target="_blank">REDBOX-–∏–π–Ω –∞–ª–±–∞–Ω —ë—Å–Ω—ã —Ö—É—É–¥–∞—Å —Ä—É—É –æ—Ä–æ—Ö</a></p>
  </div>
</section>

<!-- News Section -->
<div class="news-container" id="news-container"></div>

<!-- Contact Card -->
<div class="contact-card">
  <h2>üìû –•–æ–ª–±–æ–æ –±–∞—Ä–∏—Ö</h2>
  <div class="contact-info" style="text-align:center;">
    <p>–£—Ç–∞—Å: <strong>94344777</strong></p>
    <p>–ò-–º—ç–π–ª: <a href="mailto:redbox@gmail.com">redbox@gmail.com</a></p>
    <p>–•–∞—è–≥: ”®–≤”©—Ä—Ö–∞–Ω–≥–∞–π –∞–π–º–∞–≥, –ê—Ä–≤–∞–π—Ö—ç—ç—Ä —Ö–æ—Ç</p>
    <p>Facebook: <a href="https://www.facebook.com/profile.php?id=61577147703989" target="_blank">REDBOX</a></p>
  </div>
  <div class="contact-buttons" style="justify-content:center;">
    <a href="tel:94344777" class="btn">–î—É—É–¥–ª–∞–≥–∞ —Ö–∏–π—Ö</a>
    <a href="mailto:redbox@gmail.com" class="btn">–ò-–º—ç–π–ª –∏–ª–≥—ç—ç—Ö</a>
  </div>
</div>

<footer>
&copy; 2025 –ú—ç–¥—ç—ç–Ω–∏–π –ø–æ—Ä—Ç–∞–ª
</footer>

<!-- Firebase integration -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCEZS_SYNYTM49tlk8VQXTXcHW2poSJdEI",
  authDomain: "khongorzul-news.firebaseapp.com",
  databaseURL: "https://khongorzul-news-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "khongorzul-news",
  storageBucket: "khongorzul-news.firebasestorage.app",
  messagingSenderId: "489440213839",
  appId: "1:489440213839:web:b11ae043901031220a633a",
  measurementId: "G-BJKJVZYKLL"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const newsContainer = document.getElementById("news-container");
const heroContainer = document.getElementById("hero-container");

let slides = [];
let currentSlide = 0;

const newsRef = ref(db, "news");
onValue(newsRef, (snapshot) => {
  newsContainer.innerHTML = "";
  heroContainer.innerHTML = "";
  slides = [];
  const data = snapshot.val();

  if (data) {
    Object.keys(data).reverse().forEach(key => {
      const news = data[key];

      // News card
      const card = document.createElement("div");
      card.className = "news-card";
      card.innerHTML = `
        ${news.image ? `<img src="${news.image}" alt="${news.title}">` : ""}
        <h3>${news.title}</h3>
        <p>${news.description || ""}</p>
        <div class="fulltext"><p>${news.fulltext || ""}</p></div>
        <a href="#" class="read-more">–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —É–Ω—à–∏—Ö ‚Üí</a>
        <small>${news.date} ‚Ä¢ ${news.category}</small>
      `;
      newsContainer.appendChild(card);

      // Hero slide
      if (news.image) {
        const slideDiv = document.createElement("div");
        slideDiv.className = "hero-slide";
        slideDiv.innerHTML = `
          <img src="${news.image}" alt="${news.title}">
          <div class="hero-overlay"><h2>${news.title}</h2></div>
        `;
        heroContainer.appendChild(slideDiv);
        slides.push(slideDiv);
      }
    });

    // Slide show
    showSlide(0);
    setInterval(() => nextSlide(), 4000);

    // Read more toggle
    document.querySelectorAll('.read-more').forEach(link => {
      link.addEventListener('click', function(e){
        e.preventDefault();
        const full = this.previousElementSibling;
        if(full.style.display === 'none'){
          full.style.display = 'block';
          this.textContent = '–ë–∞–≥–∞—Å–≥–∞—Ö ‚Üë';
        } else {
          full.style.display = 'none';
          this.textContent = '–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —É–Ω—à–∏—Ö ‚Üí';
        }
      });
    });
  }
});

function showSlide(index){
  slides.forEach((s,i) => s.style.display = (i===index ? "block" : "none"));
  currentSlide = index;
}

function nextSlide(){
  if(slides.length>0) showSlide((currentSlide+1)%slides.length);
}
</script>

</body>
</html>
